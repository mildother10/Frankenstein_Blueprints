tasks:
  Planner:
    prompt: >
      Create a comprehensive, step-by-step research plan for the topic:
      "{research_topic}"

  # --- COORDINATOR TASK ---
  Researcher:
    prompt: >
      Synthesize the findings from all six specialized agents (Who, What, When, Where, How, Why)
      into a single, unified research context block that fully addresses the original topic.
      Do not add new information or call tools.
      
      TOPIC: "{research_topic}"
      PLAN: {plan}
      CONCURRENT FINDINGS: 
      {research_context}
      
      Provide the synthesized research context now.

  # --- 5W1H PARALLEL TASKS ---
  WhoAgent:
    prompt: >
      Execute the plan's step related to **WHO** is involved. Use the GitHub and Web Search tools.
      TOPIC: "{research_topic}"
      PLAN: {plan}

  WhatAgent:
    prompt: >
      Execute the plan's step related to **WHAT** concepts and definitions are required. Use the RAG and ArXiv tools.
      TOPIC: "{research_topic}"
      PLAN: {plan}

  WhenAgent:
    prompt: >
      Execute the plan's step related to **WHEN** the technology was developed or adopted. Use the ArXiv and Web Search tools.
      TOPIC: "{research_topic}"
      PLAN: {plan}

  WhereAgent:
    prompt: >
      Execute the plan's step related to **WHERE** the knowledge is located (courses, labs). Use the Librarian and Web Search tools.
      TOPIC: "{research_topic}"
      PLAN: {plan}

  HowAgent:
    prompt: >
      Execute the plan's step related to **HOW** the code or algorithm works. Use the GitHub, Execute Python Code, and RAG tools.
      TOPIC: "{research_topic}"
      PLAN: {plan}

  WhyAgent:
    prompt: >
      Execute the plan's step related to **WHY** this technology matters and its impact. Use the Web Search tools.
      TOPIC: "{research_topic}"
      PLAN: {plan}

  # --- FINAL OUTPUT TASKS ---
  Writer:
    prompt: >
      You are writing a final report. Synthesize the research plan
      and all the provided research context into a final, comprehensive
      report that fully answers the research topic.
      
      TOPIC: "{research_topic}"
      PLAN: {plan}
      RESEARCH CONTEXT:
      {research_context}
      
      Write the full report now.

  Reviewer:
    prompt: >
      Review the following materials and provide a list of
      actionable feedback to improve the final report.
      
      TOPIC: "{research_topic}"
      PLAN: {plan}
      RESEARCH CONTEXT:
      {research_context}
      DRAFT REPORT:
      {draft}
      
      Provide your feedback now as a clear, bulleted list.
