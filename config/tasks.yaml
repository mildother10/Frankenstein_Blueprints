# ---
# TASK CONFIGURATION (tasks.yaml)
#
# Defines the "what" and "how" for our 10-Service "Factory."
# This file outlines the sequence of operations (tasks) and
# maps each task to a specific agent for execution.
# ---

tasks:
  # ---
  # Task 1: Create the research blueprint.
  # ---
  - name: create_research_plan
    # The agent responsible for this task.
    agent: Planner
    # The expected output description for this task.
    description: >
      A detailed, 6-step research plan structured around the
      5W1H (Who, What, When, Where, How, Why) agents.

  # ---
  # Task 2: Execute the 5W1H agents *in parallel*.
  #
  # PITCH: This "threading" is the core optimization.
  # It transforms the 5-8 minute bottleneck (from V1)
  # into a concurrent operation, drastically reducing wait time.
  # ---
  - name: parallel_research
    # This task is a "list" of sub-tasks that will be threaded.
    type: parallel
    description: >
      Execute six concurrent research streams to gather
      all necessary information.
    # The individual tasks to be run in parallel.
    tasks:
      - name: research_who
        agent: WhoAgent
        description: Identify key individuals and organizations.
      - name: research_what
        agent: WhatAgent
        description: Define core concepts, terms, and data.
      - name: research_when
        agent: WhenAgent
        description: Establish the timeline and key dates.
      - name: research_where
        agent: WhereAgent
        description: Locate key papers, courses, and code repositories.
      - name: research_how
        agent: HowAgent
        description: Investigate the implementation and "how it works."
      - name: research_why
        agent: WhyAgent
        description: Analyze the impact, motivation, and "why."

  # ---
  # Task 3: Synthesize all parallel findings.
  # ---
  - name: synthesize_research
    agent: Researcher
    description: >
      A single, unified context block that merges all
      concurrent findings from the 5W1H agents.
    # This task depends on the parallel tasks completing.
    # It "waits" for the results from all 6 agents.
    context:
      - research_who
      - research_what
      - research_when
      - research_where
      - research_how
      - research_why

  # ---
  # Task 4: Write the final draft report.
  # ---
  - name: write_final_report
    agent: Writer
    description: >
      A comprehensive, well-structured final report that
      answers the original research topic.
    # This task "waits" for the synthesis (Task 3) to be complete.
    context:
      - synthesize_research

  # ---
  # Task 5: Review and critique the final report.
  # ---
  - name: review_final_report
    agent: Reviewer
    description: >
      Actionable, bullet-point feedback to improve the
      final report's quality, accuracy, and clarity.
    # This task "waits" for the draft (Task 4) to be complete.
    context:
      - write_final_report
